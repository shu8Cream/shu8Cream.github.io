@import "tailwindcss";

/* Typographyプラグインの読み込み（ブログ用） */
@plugin "@tailwindcss/typography";

/* ここでフォントやテーマの設定もできます */
@theme {
  --font-sans: 'Inter', 'Noto Sans JP', sans-serif;
  
  /* すりガラス風デザインのためのカスタム設定などをここに追加可能です */
}

/* KaTeXの数式を白くする */
.katex {
  color: #e2e8f0; /* 薄いグレー（白に近い色） */
  font-size: 1.1em; /* 少し大きくすると読みやすい */
}

/* リンク付きの数式などは青くする */
.katex a {
  color: #60a5fa;
}

/* --------------------------------------
   記事内のリンクデザイン
   -------------------------------------- */
/* 記事本文(.prose)の中のリンクだけを対象にする */
.prose a {
  color: #a78bfa; /* purple-400: 見やすい紫 */
  text-decoration: none; /* 一旦下線を消す */
  border-bottom: 1px solid rgba(167, 139, 250, 0.4); /* 薄い下線を引く */
  transition: all 0.2s ease;
  font-weight: 500;
}

/* ホバー時の挙動 */
.prose a:hover {
  color: #c4b5fd; /* purple-300: 少し明るく */
  background-color: rgba(167, 139, 250, 0.15); /* 背景を薄く光らせる */
  border-bottom-color: transparent; /* 下線は消す */
  border-radius: 4px; /* 角を少し丸く */
  padding: 0 4px; /* 少し余白を持たせる */
  margin: 0 -4px; /* 余白分だけ位置を戻す（レイアウト崩れ防止） */
}

/* --------------------------------------
   脚注エリアのデザイン
   -------------------------------------- */
.prose .footnotes {
  margin-top: 4rem; /* 本文との距離をあける */
  padding-top: 2rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1); /* 区切り線を入れる */
  font-size: 0.9em; /* 文字を少し小さく */
  color: #9ca3af; /* gray-400: 少し薄い色に */
}

/* 脚注リストの数字部分 */
.prose .footnotes ol {
  padding-left: 1.5rem;
}

/* 本文中の注釈番号 [1] のデザイン */
.prose sup {
  margin-left: 2px;
}
.prose sup a {
  color: #60a5fa; /* blue-400: 注釈は青系で区別 */
  font-family: monospace; /* 数字っぽさを出す */
  border: none; /* リンクの下線はなし */
  opacity: 0.8;
}
.prose sup a:hover {
  background: none;
  opacity: 1;
  text-decoration: underline;
}

/* src/styles/global.css の末尾に追加 */

/* --------------------------------------
   Markdownテーブルの整列（左・中央・右）を修正
   -------------------------------------- */
/* align属性がついている場合、Tailwindのデフォルトを上書きして効かせる */
.prose th[align=center], .prose td[align=center] { text-align: center; }
.prose th[align=right], .prose td[align=right] { text-align: right; }
.prose th[align=left], .prose td[align=left] { text-align: left; }


/* --------------------------------------
   チェックボックス（タスクリスト）の修正
   -------------------------------------- */

/* 1. タスクリストの「・（黒丸）」を消す */
.prose ul > li.task-list-item {
  list-style-type: none;
  display: flex; /* 横並びにする */
  align-items: flex-start; /* 上揃え（複数行のとき崩れないように） */
  gap: 0.5rem; /* チェックボックスと文字の間隔 */
  margin-left: 0;
  padding-left: 0;
}
/* Proseが擬似要素(::marker)で黒丸を出そうとするのを防ぐ */
.prose ul > li.task-list-item::before {
  content: none !important;
}

/* 2. チェックボックス自体のデザインを整える */
.prose ul > li.task-list-item input[type="checkbox"] {
  /* ブラウザのデフォルトスタイルをリセット */
  appearance: none; 
  -webkit-appearance: none;
  
  /* サイズと配置 */
  margin-top: 0.35rem; /* 行の高さに合わせて微調整 */
  width: 1.1em;
  height: 1.1em;
  flex-shrink: 0; /* 縮まないようにする */

  /* 色と形（ダークモードに合わせてかっこよく） */
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 4px;
  background-color: rgba(255, 255, 255, 0.05);
  cursor: pointer;
  position: relative;
}

/* 3. チェックが入ったとき（Checked）のデザイン */
.prose ul > li.task-list-item input[type="checkbox"]:checked {
  background-color: #a855f7; /* 紫色 (purple-500) */
  border-color: #a855f7;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
  background-position: center;
  background-repeat: no-repeat;
  background-size: 100% 100%;
}

/* ホバー時の微調整 */
.prose ul > li.task-list-item input[type="checkbox"]:hover {
  border-color: #c4b5fd; /* purple-300 */
}

/* 幅を広げたときの行間調整 */
.prose {
  line-height: 1.8; /* 行間を少し広めに確保して読みやすく */
}

/* 画像がデカくなりすぎないように制限（お好みで） */
.prose img {
  max-height: 600px; /* 縦幅の制限 */
  width: auto;       /* 比率を維持 */
  margin: 2rem auto; /* 中央寄せ */
}